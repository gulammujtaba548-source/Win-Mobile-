<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GM Agency Official</title>
    <style>
        :root { --primary: #ff5252; --gold: #ffd700; --poppo: #ff007f; --bg: #f4f7f6; }
        body { font-family: 'Segoe UI', sans-serif; background-color: var(--bg); margin: 0; text-align: center; }
        .container { max-width: 480px; margin: 0 auto; background: white; padding: 15px; min-height: 100vh; }
        
        /* üî• Animated Top Banner */
        .top-banner {
            background: linear-gradient(90deg, #7000ff, #ff007f, #7000ff);
            background-size: 200% auto;
            color: white; padding: 15px; border-radius: 15px; margin: 10px 0;
            border: 2px solid var(--gold); font-weight: bold; cursor: pointer;
            animation: grad 3s linear infinite; text-decoration: none; display: block;
        }
        @keyframes grad { 0% { background-position: 0% 50%; } 100% { background-position: 200% 50%; } }

        .card { padding: 15px; border-radius: 20px; margin-bottom: 15px; border: 1px solid #eee; background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .btn { width: 100%; padding: 14px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; display: block; text-decoration: none; margin-top: 8px; }
        .btn-red { background: var(--primary); color: white; }
        .btn-green { background: #1eb41e; color: white; }
        input { width: 90%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 10px; text-align: center; }

        /* Trusted Recharge Section */
        #recharge-section { display: none; border: 2px solid var(--poppo); border-radius: 20px; padding: 20px; margin: 15px 0; background: #fff; }
        .service-tag { border: 1px dashed var(--poppo); padding: 10px; border-radius: 10px; margin: 10px 0; font-size: 13px; text-align: left; }
    </style>
</head>
<body>

<div class="container">
    <div class="top-banner" onclick="toggleRecharge()">
        ‚ö° SPECIAL POPPO OFFER ‚ö°<br>
        <span style="font-size: 11px; font-weight: normal;">Lowest Coin Rates & Fast Support</span>
    </div>

    <div id="recharge-section" class="card">
        <h2 style="color: var(--poppo);">‚ú® Poppo Live Coins ‚ú®</h2>
        <h3 style="color: #d1006d;">Trusted Coin Recharge</h3>
        <p style="font-size: 13px;">GM Agency se Poppo Live ke coins khareedein, saste aur fast!</p>
        
        <div class="service-tag">üíé <b>Premium Recharge:</b> Direct coins transfer. Fast Delivery!</div>
        <div class="service-tag">üí∞ <b>Special Rates:</b> Market se saste rate. Extra Bonus!</div>
        <div class="service-tag">üîí <b>100% Secure:</b> Aapka data bilkul mehfooz hai.</div>
        
        <a href="https://wa.me/923023313131" class="btn" style="background: #e91e63; color: white;">Buy Coins Now</a>
        <button onclick="toggleRecharge()" style="margin-top: 10px; background: none; border: none; color: #666; cursor: pointer;">‚Üê Back to Dashboard</button>
    </div>

    <div id="main-dashboard">
        <div class="card" style="border: 3px solid var(--poppo); background: #fff0f6;">
            <h3 style="color: var(--poppo); margin: 0;">‚ú® New Host Rewards ‚ú®</h3>
            <div style="background: #222; color: var(--gold); padding: 10px; border-radius: 10px; font-size: 22px; font-weight: 900; margin: 10px 0;">2753578</div>
            <p style="font-size: 13px; font-weight: bold;">Join Agency & Get 5,000 Coins Gift üéÅ</p>
            <a href="https://wa.me/923023313131" class="btn btn-red">CLAIM 5000 COINS</a>
        </div>

        <div class="card" style="border: 2px solid #25D366; background: #e6fff0;">
            <h4 style="margin: 0; color: #128C7E;">üî• Join Live Rewards Group</h4>
            <p style="font-size: 12px; margin: 10px 0;">Group join karein aur hasil karein <b>3,000 Coins</b> reward!</p>
            <a href="https://chat.whatsapp.com/Dd1rtjmg1oz4iMgDkiRAce" class="btn" style="background: #25D366; color: white;">JOIN GROUP & CLAIM 3000</a>
        </div>

        <div class="card">
            <h4>üé° Daily Spin & Win</h4>
            <div style="font-weight:bold; background:#eee; padding:10px; border-radius:10px; margin: 10px 0;">ü™ô My Coins: <span id="userCoins">0</span></div>
            <button onclick="redeemCoins()" class="btn btn-green">REDEEM (Min 200)</button>
        </div>

        <div class="card" style="border: 2px solid #333;">
            <h4>üîç Real-Time Status Check</h4>
            <input type="number" id="checkPhone" placeholder="Enter WhatsApp Number">
            <button onclick="checkUserStatus()" class="btn" style="background:#333; color:white;">CHECK STATUS</button>
            <div id="statusResult" style="margin-top:10px; font-weight:bold;"></div>
        </div>
    </div>
</div>

<script>
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyaPhp2qLrGzvHhOdNvu8QdhTFDF4-k0xSQ530Tdn8mTDsYqfvaE7X1hZUTeuIxXbjo9g/exec';
    let coins = parseInt(localStorage.getItem("gm_coins")) || 0;
    document.getElementById("userCoins").innerText = coins;

    function toggleRecharge() {
        const main = document.getElementById('main-dashboard');
        const recharge = document.getElementById('recharge-section');
        if (recharge.style.display === 'none') {
            recharge.style.display = 'block';
            main.style.display = 'none';
        } else {
            recharge.style.display = 'none';
            main.style.display = 'block';
        }
    }

    function redeemCoins() {
        if (coins < 200) return alert("Min 200 coins!");
        coins = 0; localStorage.setItem("gm_coins", 0);
        document.getElementById("userCoins").innerText = 0;
        window.open("https://wa.me/923023313131?text=Coins Zero Now. Verify me.");
    }

    function checkUserStatus() {
        const phone = document.getElementById("checkPhone").value;
        const res = document.getElementById("statusResult");
        if(!phone) return alert("Enter number");
        res.style.color = "orange"; res.innerText = "CHECKING...";
        fetch(`${SCRIPT_URL}?action=getRecords`).then(r => r.json()).then(data => {
            const user = data.records.find(u => u.phone == phone || u.number == phone);
            if(user) {
                res.style.color = user.status.toUpperCase() === 'APPROVED' ? 'green' : 'red';
                res.innerText = `STATUS: ${user.status.toUpperCase()}`;
            } else { res.style.color = "red"; res.innerText = "NOT FOUND"; }
        });
    }
</script>
</body>
</html>
